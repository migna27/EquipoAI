<div class="d-flex justify-content-between align-items-center border-top pt-3 mt-4 mb-2">
    <h4 class="text-primary m-0">Visualización Gráfica</h4>
    
    <div class="btn-group shadow-sm">
        <button class="btn btn-secondary btn-sm" id="btnResetView" title="Resetear Vista" style="display: flex; align-items: center; padding: 0.25rem 0.6rem;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
            </svg>
        </button>
        <button class="btn btn-warning btn-sm" id="btnPause" title="Pausar/Reanudar" style="min-width: 40px;">
            ⏸
        </button>
    </div>
</div>

<div class="d-flex align-items-center mb-2 justify-content-between">
    <div class="d-flex align-items-center">
        <label class="text-muted small me-2" for="slowModeCheck">Ralentizar:</label>
        <div class="form-check form-switch m-0">
            <input class="form-check-input" type="checkbox" id="slowModeCheck">
        </div>
    </div>

    <div class="d-flex align-items-center">
        <label class="text-muted small me-2" for="zoomRange">Zoom:</label>
        <input type="range" class="form-range" id="zoomRange" min="0.1" max="3" step="0.1" value="1" style="width: 120px;">
    </div>
</div>

<div class="card bg-dark text-white mb-4 shadow" style="overflow: hidden;">
    <div class="card-body p-0 position-relative" id="canvasContainer">
        <canvas 
            id="gearCanvas" 
            style="background-color: #1e1e1e; cursor: grab; display: block; width: 100%; height: 400px;"
            data-dientes='{{ resultados.dientes | tojson if resultados and resultados.dientes else "[]" }}'
        ></canvas>
        
        <div class="position-absolute bottom-0 start-0 p-2 text-muted small" style="pointer-events: none; opacity: 0.6;">
            # para mover • # para zoom
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/engranaje.js') }}"></script>